<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">     
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<link rel="stylesheet" type="text/css" href="../styles/stylesheet.css"/>
	<title>Struktur ePub</title>

</head>
  
  
<body>
<h3>Struktur ePub 2.0</h3>

   <div>
	Ein ePub besteht aus drei Elementen:<br>
	<ul>
	<li>Open Publication Structure / strukturiert die eigentlichen Inhalte</li>
	<li>Open Packaging Format / strukturiert das Archiv</li>
	<li>Open Container Format / strukturiert den Container</li>
	</ul>
	
	Um diese Struktur praktisch nachzuvollziehen, ist es sinnvoll, ein ePub eigenhändig "auseinanderzuoperieren".
	Dies ist einigermaßen einfach zu bewerkstelligen. Man braucht eigentlich nur ein ZIP-Programm. Indem man die Dateiendung des 
	ePubs *.epub in *.zip ändert, wird es möglich die Datei zu entpacken und wir bekommen einen Blick auf die Innereien eines ePubs.
	Windows-User greifen hierfür zum Programm 7-zip, Mac-User probieren das Programm Keka und Linux-User benutzen PeaZip oder geben im Terminal <code>unzip EPUBNAME.zip</code> ein.
  
   </div>
   
    <h3>Open Publication Structure OPS</h3>
   
   <div>
	Die eigentlichen Inhalte der ePubs werden nach dieser Struktur organisiert und dargestellt. Sie umfasst die Auszeichnungssprache XHTML 1.1, die Gestaltungssprache CSS 2.0 sowie diverse Grafikformate (.jpg, .png, .gif, .svg). 
    Im 2. Kapitel gehe ich auf das Zusammenspiel dieser Formate ein, und wie sich daraus die Darstellung der Inhalte auf dem Reader ergibt.
    In unserem Beispiel handelt es sich um die Dateien in den Ordnern "text", "images" und "styles". Diese Ordner sind nicht zwangsläufig notwendig, sie dienen hier nur der Übersichtlichkeit. Die einzelnen dateien können in anderen Ordnern abgespeichert werden oder einfach im Stammverzeichnis liegen,
    da sie in der content.opf Datei eindeutig referenziert werden.
   </div>
   
    <h3>Open Packaging Format OPF</h3>
   
   <div>
	Dieses Format organisiert die oben beschriebenen, nach dem OPS-Standard strukturierten, Inhalte. Es funktioniert, vereinfacht gesagt, als Inhaltsverzeichnis. Es besteht aus zwei verschiedenen Dateien: einer Datei mit der Endung *.opf und einer
	zweiten mit der Endung *.ncx. Die Dateinamen sind meistens content.opf und toc.ncx können jedoch frei gewählt werden. In unserem Falle folgen wir dieser Konvention und wir sehen in unserem Beispiel, dass die beiden Dateien im Stammverzeichnis unseres ePub liegen. Dies ist nicht zwingend erforderlich, da ihr Speicherort
	in der Datei container.xml eindeutig referenziert wird.
	</div>
	
	<h3>Open Container Format OCF</h3>
   
   <div>
	Die Verpackung aller Teildateien in eine einzelne Datei und die Struktur des darin enthaltenen Dateisystems wird durch das Open Container Format (OCF) geregelt.
	Dieses Format besteht aus folgenden Elementen:
	<ul>
	<li>eine unkomprimierte Datei mit dem Namen mimetype und dem Inhalt application/epub+zip im Wurzelverzeichnis als erste Datei im Archiv</li>
	<li>ein Verzeichnis META-INF mit einer Datei namens container.xml, die auf die Stammdatei (content.opf) der Publikation verweist</li>
	<li>eine Stammdatei / content.opf</li>
	<li>ein für den Nutzer erstelltes Inhaltsverzeichnis / toc.ncx</li>
	<li>die Inhaltsdateien nach der OPS-Struktur / z.B. epubstruktur.xhtml </li>
	</ul>
	
	Diese Dateien ergeben zusammen das ePub. Um sie in eine einzelne Datei zu verpacken, wird das ZIP-Format verwendet. Hierbei ist zu beachten, dass die datei mimetype an erster Stelle des Archivs und unkomprimiert verpackt wird. Sonst kann dass ePub nicht erkannt werden. Vorerst sollten wir die Komprimierung komplett außen vor lassen, auch wenn es möglich ist die anderen
	Teile des Pakets normal zu komprimieren.
	
   </div>

</body>
</html>


